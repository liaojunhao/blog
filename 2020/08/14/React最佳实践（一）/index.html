<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>Reactæœ€ä½³å®è·µï¼ˆä¸€ï¼‰</title>
  
  <link rel="canonical" href="https://liaojunhao.github.io/2020/08/14/React%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%80%EF%BC%89/">
  
  <meta name="description" content="æ¡ä»¶è¯­å¥JSX æœ‰è®¸å¤šä¸åŒæ–¹å¼æ¥è¡¨è¾¾æ¡ ä»¶é€»è¾‘ï¼Œç†è§£æ¯ç§æ–¹å¼çš„ç›Šå¤„åŠå…¶å­˜åœ¨çš„é—®é¢˜å¯¹äºç¼–å†™å¯è¯»ä¸”å¯ç»´æŠ¤çš„ä»£ç éå¸¸é‡è¦ã€‚  æ˜¾ç¤ºä¸€ä¸ªæ³¨é”€æŒ‰é’®æ—¶  // ä¸‹è¿°åšæ³•å¯è¡Œï¼Œä½†å¯è¯»æ€§ä¸å¥½ï¼Œç»„ä»¶åˆæ¡ä»¶å¾ˆå¤šæ—¶ä¼šæ›´å·® let button; if (isLoggedIn) &amp;#123;   button = &amp;lt;">
  
  
  <meta name="author" content="andy">
  
  <meta property="og:image" content="https://liaojunhao.github.ioundefined">
  
  <meta property="og:site_name" content="å†°æ²³æœ«æ—¥çš„åšå®¢" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Reactæœ€ä½³å®è·µï¼ˆä¸€ï¼‰" />
  
  <meta property="og:description" content="æ¡ä»¶è¯­å¥JSX æœ‰è®¸å¤šä¸åŒæ–¹å¼æ¥è¡¨è¾¾æ¡ ä»¶é€»è¾‘ï¼Œç†è§£æ¯ç§æ–¹å¼çš„ç›Šå¤„åŠå…¶å­˜åœ¨çš„é—®é¢˜å¯¹äºç¼–å†™å¯è¯»ä¸”å¯ç»´æŠ¤çš„ä»£ç éå¸¸é‡è¦ã€‚  æ˜¾ç¤ºä¸€ä¸ªæ³¨é”€æŒ‰é’®æ—¶  // ä¸‹è¿°åšæ³•å¯è¡Œï¼Œä½†å¯è¯»æ€§ä¸å¥½ï¼Œç»„ä»¶åˆæ¡ä»¶å¾ˆå¤šæ—¶ä¼šæ›´å·® let button; if (isLoggedIn) &amp;#123;   button = &amp;lt;">
  
  <meta property="og:url" content="https://liaojunhao.github.io/2020/08/14/React%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%80%EF%BC%89/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Reactæœ€ä½³å®è·µï¼ˆä¸€ï¼‰">
  
  <meta name="twitter:description" content="æ¡ä»¶è¯­å¥JSX æœ‰è®¸å¤šä¸åŒæ–¹å¼æ¥è¡¨è¾¾æ¡ ä»¶é€»è¾‘ï¼Œç†è§£æ¯ç§æ–¹å¼çš„ç›Šå¤„åŠå…¶å­˜åœ¨çš„é—®é¢˜å¯¹äºç¼–å†™å¯è¯»ä¸”å¯ç»´æŠ¤çš„ä»£ç éå¸¸é‡è¦ã€‚  æ˜¾ç¤ºä¸€ä¸ªæ³¨é”€æŒ‰é’®æ—¶  // ä¸‹è¿°åšæ³•å¯è¡Œï¼Œä½†å¯è¯»æ€§ä¸å¥½ï¼Œç»„ä»¶åˆæ¡ä»¶å¾ˆå¤šæ—¶ä¼šæ›´å·® let button; if (isLoggedIn) &amp;#123;   button = &amp;lt;">
  
  
  <meta name="twitter:image" content="https://liaojunhao.github.ioundefined">
  
  <meta name="twitter:url" content="https://liaojunhao.github.io/2020/08/14/React%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%88%E4%B8%80%EF%BC%89/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="å†°æ²³æœ«æ—¥çš„åšå®¢" type="application/atom+xml">
</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      å†°æ²³æœ«æ—¥çš„åšå®¢
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">ä¸»é¡µ</a>
        
          
          <a href="/archives" class="ml">å½’æ¡£</a>
          
        
          
          <a href="/About" class="ml">å…³äº</a>
          
        
          
          <a href="/categories" class="ml">åˆ†ç±»</a>
          
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Reactæœ€ä½³å®è·µï¼ˆä¸€ï¼‰</h2>

  <h2 id="æ¡ä»¶è¯­å¥"><a href="#æ¡ä»¶è¯­å¥" class="headerlink" title="æ¡ä»¶è¯­å¥"></a>æ¡ä»¶è¯­å¥</h2><p>JSX æœ‰è®¸å¤šä¸åŒæ–¹å¼æ¥è¡¨è¾¾æ¡ ä»¶é€»è¾‘ï¼Œç†è§£æ¯ç§æ–¹å¼çš„ç›Šå¤„åŠå…¶å­˜åœ¨çš„é—®é¢˜å¯¹äºç¼–å†™å¯è¯»ä¸”å¯ç»´æŠ¤çš„ä»£ç éå¸¸é‡è¦ã€‚</p>
<ol>
<li>æ˜¾ç¤ºä¸€ä¸ªæ³¨é”€æŒ‰é’®æ—¶</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä¸‹è¿°åšæ³•å¯è¡Œï¼Œä½†å¯è¯»æ€§ä¸å¥½ï¼Œç»„ä»¶åˆæ¡ä»¶å¾ˆå¤šæ—¶ä¼šæ›´å·®</span>
<span class="token keyword">let</span> button<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isLoggedIn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  button <span class="token operator">=</span> <span class="token operator">&lt;</span>LogoutButton <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>button<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¼˜åŒ–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// JSX å¯ä»¥åˆ©ç”¨è¡Œå†…æ¡ä»¶æ¥åˆ¤æ–­ï¼š</span>
<span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>isLoggedIn <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>LoginButton <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ol start="2">
<li>ifâ€¦else è¯­å¥</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> button<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isLoggedIn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  button <span class="token operator">=</span> <span class="token operator">&lt;</span>LogoutButton <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  button <span class="token operator">=</span> <span class="token operator">&lt;</span>LoginButton <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>button<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¼˜åŒ–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>isLoggedIn <span class="token operator">?</span> <span class="token operator">&lt;</span>LogoutButton <span class="token operator">/</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token operator">&lt;</span>LoginButton <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="3">
<li>æ¥çœ‹æ›´å¤æ‚çš„æƒ…å†µ</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// éœ€è¦å¤šä¸ªå˜é‡æ‰èƒ½åˆ¤æ–­æ˜¯å¦è¦æ¸²æŸ“ç»„ä»¶ï¼š</span>
<span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>dataIsReady <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>isAdmin <span class="token operator">||</span> userHasPermissions<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>SecretData <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>ä¼˜åŒ–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä¸Šè¿°ç¤ºä¾‹ä¸­çš„è¡Œå†…æ¡ä»¶è¯­å¥çš„å†™æ³•å¾ˆå¥½ï¼Œ</span>
<span class="token comment">// ä½†å¯è¯»æ€§å—åˆ°äº†å¾ˆå¤§å½±å“ã€‚æ­¤æ—¶å¯ä»¥åœ¨ç»„ä»¶å†…ç¼–å†™ ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥æ£€éªŒ JSX çš„æ¡ä»¶è¯­å¥:</span>
<span class="token function">canShowSecretData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> dataIsReady<span class="token punctuation">,</span> isAdmin<span class="token punctuation">,</span> userHasPermissions <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> dataIsReady <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>isAdmin <span class="token operator">||</span> userHasPermissions<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span>div<span class="token operator">></span>
<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">canShowSecretData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>SecretData <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨ä¼˜åŒ–ï¼ˆä½¿ç”¨ getter æ–¹æ³•æ¥å–ä»£å‡½æ•°ï¼‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">get</span> <span class="token function">canShowSecretData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> dataIsReady<span class="token punctuation">,</span> isAdmin<span class="token punctuation">,</span> userHasPermissions <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    <span class="token keyword">return</span> dataIsReady <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>isAdmin <span class="token operator">||</span> userHasPermissions<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span>div<span class="token operator">></span>
<span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>canShowSecretData <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>SecretData <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">&#125;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å‡½æ•°å¼ç¼–ç¨‹åŸºç¡€"><a href="#å‡½æ•°å¼ç¼–ç¨‹åŸºç¡€" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹åŸºç¡€"></a>å‡½æ•°å¼ç¼–ç¨‹åŸºç¡€</h2><h3 id="çº¯ç²¹æ€§"><a href="#çº¯ç²¹æ€§" class="headerlink" title="çº¯ç²¹æ€§"></a>çº¯ç²¹æ€§</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// çº¯ç²¹çš„å‡½æ•°</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>

<span class="token comment">// éçº¯ç²¹çš„å‡½æ•°</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>x <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ä¸å¯å˜æ€§"><a href="#ä¸å¯å˜æ€§" class="headerlink" title="ä¸å¯å˜æ€§"></a>ä¸å¯å˜æ€§</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä»¥ä¸‹ä»£ç ä¸éµå¾ªä¸å¯å˜æ€§</span>
<span class="token keyword">const</span> <span class="token function-variable function">add3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=></span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">add3</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token function">add3</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 3]</span>

<span class="token comment">// å¯ä»¥æ”¹ç”¨concatæ»¡è¶³ä¸å¯å˜æ€§</span>
<span class="token keyword">const</span> <span class="token function-variable function">add3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=></span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token function">add3</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token function">add3</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="æŸ¯é‡ŒåŒ–"><a href="#æŸ¯é‡ŒåŒ–" class="headerlink" title="æŸ¯é‡ŒåŒ–"></a>æŸ¯é‡ŒåŒ–</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åŸå…ˆçš„å†™æ³•</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>

<span class="token comment">// æ”¹æˆæŸ¯é‡ŒåŒ–:</span>
<span class="token comment">// è¿™ç§å‡½æ•°å†™æ³•ç›¸å½“æ–¹ä¾¿ï¼Œå› ä¸ºä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°åï¼Œ</span>
<span class="token comment">// ç¬¬ä¸€ä¸ªå€¼è¢«ä¿ç•™èµ·æ¥ï¼Œè¿”å›çš„ç¬¬äºŒä¸ªå‡½æ•° å¯ä»¥å¤šæ¬¡å¤ç”¨ã€‚</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">addAndSquare</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶"><a href="#å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶" class="headerlink" title="å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶"></a>å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶</h2><h3 id="ä½¿ç”¨-ES2015-è¯­æ³•ç±»æ¥åˆ›å»ºç»„ä»¶"><a href="#ä½¿ç”¨-ES2015-è¯­æ³•ç±»æ¥åˆ›å»ºç»„ä»¶" class="headerlink" title="ä½¿ç”¨ ES2015 è¯­æ³•ç±»æ¥åˆ›å»ºç»„ä»¶"></a>ä½¿ç”¨ ES2015 è¯­æ³•ç±»æ¥åˆ›å»ºç»„ä»¶</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä¸æ¨è</span>
<span class="token keyword">const</span> Button <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button <span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// æ¨èä½¿ç”¨ç»§æ‰¿React.Component</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>button <span class="token operator">/</span><span class="token operator">></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>ä¸»è¦åŒºåˆ«ï¼š<ul>
<li>prop</li>
<li>çŠ¶æ€</li>
<li>è‡ªåŠ¨ç»‘å®š</li>
</ul>
</li>
</ul>
<h3 id="è‡ªåŠ¨ç»‘å®š"><a href="#è‡ªåŠ¨ç»‘å®š" class="headerlink" title="è‡ªåŠ¨ç»‘å®š"></a>è‡ªåŠ¨ç»‘å®š</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä»¥ä¸‹çš„ç®€å•ç¤ºä¾‹</span>
<span class="token keyword">const</span> Button <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¦‚æœä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•ï¼ˆthisç»“æœä¼šæ˜¯nullï¼‰</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è§£å†³ï¼š</span>
<span class="token comment">// 1ï¼‰ç®­å¤´å‡½æ•°ï¼šè‡ªåŠ¨å°†å½“å‰çš„ this ç»‘å®šåˆ°å‡½æ•°ä½“</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><font color='red'>æ³¨æ„ï¼š</font> è¿™æ ·åšç¬¦åˆé¢„æœŸï¼Œä¹Ÿä¸ä¼šå¸¦æ¥ä»€ä¹ˆç‰¹æ®Šé—®é¢˜ã€‚å”¯ä¸€çš„ç¼ºç‚¹åœ¨äºï¼Œå¦‚æœåœ¨æ„æ€§èƒ½ï¼Œé‚£ä¹ˆå°±éœ€è¦ç†è§£ä»£ç çš„æœ¬è´¨ã€‚<br>å®é™…ä¸Šï¼Œåœ¨æ¸²æŸ“æ–¹æ³•ä¸­ç»‘å®šå‡½æ•°ä¼šå¸¦æ¥æ— æ³•é¢„æ–™çš„å‰¯ä½œç”¨ï¼Œå› ä¸ºæ¯æ¬¡æ¸²æŸ“ç»„ä»¶(åº”ç”¨åœ¨ç”Ÿå‘½ å‘¨æœŸå†…ä¼šå¤šæ¬¡æ¸²æŸ“ç»„ä»¶)æ—¶éƒ½ä¼šè§¦å‘ç®­å¤´å‡½æ•°ã€‚è™½ç„¶åœ¨æ¸²æŸ“æ–¹æ³•å†…å¤šæ¬¡è§¦å‘æŸä¸ªå‡½æ•°ä¸å¤ªç†æƒ³ï¼Œä½†æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ <font color='red'>é—®é¢˜åœ¨äºï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶ï¼Œé‚£ä¹ˆå­ç»„ä»¶åœ¨æ¯æ¬¡æ›´æ–°è¿‡ç¨‹ä¸­éƒ½ä¼šæ¥æ”¶æ–°çš„ propã€‚</font>è¿™å¯èƒ½ä¼šå¯¼è‡´ä½æ•ˆçš„æ¸²æŸ“ï¼Œè¿›è€Œå¼•å‘é—®é¢˜ï¼Œå¯¹äºçº¯ç²¹ç»„ä»¶è€Œè¨€å°¤å…¶å¦‚æ­¤ã€‚</p>
<p>è§£å†³å‡½æ•°ç»‘å®šé—®é¢˜æœ€ä½³æ–¹æ¡ˆæ˜¯åœ¨æ„é€ å™¨å†…è¿›è¡Œç»‘å®šæ“ä½œï¼Œè¿™æ ·å³ä½¿å¤šæ¬¡æ¸²æŸ“ç»„ä»¶ï¼Œå®ƒä¹Ÿä¸ä¼šå‘ä»»ä½•æ”¹å˜ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°±æ˜¯è¿™æ ·ï¼Œé—®é¢˜è§£å†³äº†!</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶"><a href="#æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶"></a>æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶</h3><ul>
<li>React 0.14 å¼•å…¥äº†è¿™ä¸ªæ–¹æ³•ã€‚å®ƒååˆ†å¼ºå¤§ï¼Œå¯ä»¥ä½¿å¾—ä»£ç æ›´æ˜“ç»´æŠ¤å’Œå¤ç”¨ã€‚</li>
<li>è¯­æ³•ç›¸å½“ç®€æ´ä¼˜é›…ï¼ŒæŸ¥çœ‹ä»¥ä¸‹ç¤ºä¾‹:</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol>
<li>props ä¸ä¸Šä¸‹æ–‡</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶å¯ä»¥æ¥æ”¶ props å¯¹ è±¡ä½œä¸ºå‚æ•°:</span>
<span class="token parameter">props</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button<span class="token operator">></span><span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>text<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>

<span class="token comment">// æ›´ç®€æ´çš„ ES2015 è§£æ„è¯­æ³•:</span>
<span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> text <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button<span class="token operator">></span><span class="token punctuation">&#123;</span>text<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>

<span class="token comment">// æ— çŠ¶æ€å‡½æ•°å°±å¯ä»¥é€šè¿‡ propTypes å±æ€§æ¥æ¥æ”¶ props</span>
<span class="token keyword">const</span> <span class="token function-variable function">Button</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> text <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button<span class="token operator">></span><span class="token punctuation">&#123;</span>text<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
Button<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> React<span class="token punctuation">.</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ä¹Ÿæ¥æ”¶è¡¨ç¤ºä¸Šä¸‹æ–‡çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</span>
<span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button<span class="token operator">></span>
    <span class="token punctuation">&#123;</span>context<span class="token punctuation">.</span>currency<span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>value<span class="token punctuation">&#125;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol>
<li><p>å…³é”®è¯ this &amp;&amp; çŠ¶æ€ &amp;&amp; ç”Ÿå‘½å‘¨æœŸ<br>æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ä¸çŠ¶æ€ç»„ä»¶çš„ä¸€é¡¹åŒºåˆ«åœ¨äºï¼Œthis åœ¨æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸æŒ‡å‘ç»„ä»¶æœ¬èº«ã€‚<br>ç”±äºè¿™ä¸ªåŸå› ï¼Œä¸ç»„ä»¶å®ä¾‹ç›¸å…³çš„ setState ç­‰æ–¹æ³•ä»¥åŠç”Ÿå‘½å‘¨æœŸæ–¹æ³•éƒ½æ— æ³•ä½¿ç”¨ã€‚<br><font color='red'>æ–°ç‰ˆçš„ React å‡ºäº† hooks ä¹‹åè¿™ä¸ªé—®é¢˜å°†ä¸å­˜åœ¨</font></p>
</li>
<li><p>ref ä¸äº‹ä»¶å¤„ç†å™¨</p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å› ä¸ºæ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ä¸èƒ½è®¿é—®ç»„ä»¶å®ä¾‹ï¼Œ</span>
<span class="token comment">// æ‰€ä»¥å¦‚æœè¦ä½¿ç”¨ ref æˆ–è€…äº‹ä»¶å¤„ç†å™¨ï¼Œéœ€è¦æŒ‰ä»¥ä¸‹æ–¹å¼æ¥å®šä¹‰ã€‚</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> input<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>input <span class="token operator">=</span> el<span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span>onClick<span class="token punctuation">&#125;</span><span class="token operator">></span>Focus<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h3><ul>
<li>æŸäº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦åœ¨çŠ¶æ€æ›´æ–°å®Œæˆæ—¶æ‰§è¡Œä¸€äº›æ“ä½œï¼ŒReact ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªå›è°ƒ å‡½æ•°:</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">clicked</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"the state is now"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>å¼‚æ­¥<ul>
<li>åº”è¯¥æ€»æ˜¯å°† setState æ–¹æ³•å½“ä½œå¼‚æ­¥çš„</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­è§¦å‘äº† setState åï¼Œå°è¯•å°†å½“å‰çŠ¶æ€å€¼æ‰“å°åˆ°æ§åˆ¶å°ä¸­ï¼Œé‚£ ä¹ˆè·å¾—çš„æ˜¯æ—§çŠ¶æ€å€¼:</span>
<span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">clicked</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'the state is now'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span> <span class="token comment">// the state is now null</span>
<span class="token punctuation">&#125;</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">&#125;</span><span class="token operator">></span>Click me<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä»£ç :</span>
<span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">clicked</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'the state is now'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
        <span class="token comment">// ç»“æœï¼š the state is now Object &#123;clicked: true&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¤ºä¾‹ä½¿ç”¨ setTimeout åªæ˜¯ä¸ºäº†å±•ç¤º React çš„è¡Œä¸ºï¼Œ<font color='red'>ä½ æ°¸è¿œä¸è¦è¿™æ ·ç¼–å†™äº‹ä»¶ç›‘å¬å™¨</font>ã€‚</p>
<h3 id="å¯æ´¾ç”Ÿçš„å€¼"><a href="#å¯æ´¾ç”Ÿçš„å€¼" class="headerlink" title="å¯æ´¾ç”Ÿçš„å€¼"></a>å¯æ´¾ç”Ÿçš„å€¼</h3><ul>
<li>åªè¦èƒ½æ ¹æ® props è®¡ç®—æœ€ç»ˆå€¼ï¼Œå°±ä¸åº”è¯¥å°†ä»»ä½•æ•°æ®ä¿å­˜åœ¨çŠ¶æ€ä¸­ã€‚</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Price</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>props<span class="token punctuation">.</span>currency<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>props<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// ä¸æ¨è</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>price<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å¦‚æœåœ¨çˆ¶ç»„ä»¶ä¸­æŒ‰ç…§ä»¥ä¸‹æ–¹å¼åˆ›å»ºï¼Œé‚£ä¹ˆè¿™ç§åšæ³•æ˜¯å¯è¡Œçš„:</span>
<span class="token operator">&lt;</span>Price currency<span class="token operator">=</span><span class="token string">"Â£"</span> value<span class="token operator">=</span><span class="token string">"100"</span> <span class="token operator">/</span><span class="token operator">></span>

<span class="token comment">// é—®é¢˜åœ¨äºï¼Œå¦‚æœè´§å¸å•ä½æˆ–ä»·æ ¼åœ¨ Price ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…å‘ç”Ÿæ”¹å˜ï¼Œ</span>
<span class="token comment">// åˆ™æ°¸è¿œä¸ä¼šé‡æ–°è®¡ç®—çŠ¶æ€(å› ä¸ºåªä¼šè°ƒç”¨æ„é€ å™¨ä¸€æ¬¡)ï¼Œåº”ç”¨å°±ä¼šæ˜¾ç¤ºé”™è¯¯çš„ä»·æ ¼ã€‚</span>

<span class="token comment">// å› æ­¤ï¼Œåªè¦å¯ä»¥ï¼Œå°±åº”è¯¥ç”¨ props æ¥è®¡ç®—å€¼ï¼š</span>
<span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>currency<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="prop-ç±»å‹"><a href="#prop-ç±»å‹" class="headerlink" title="prop ç±»å‹"></a>prop ç±»å‹</h3><ul>
<li>ç”¨ prop ç±»å‹å®šä¹‰æ¸…æ™°çš„æ¥å£ï¼Œä»¥ä¾¿ç»„ä»¶å¯ä»¥å¤ç”¨ã€‚</li>
</ul>
<h3 id="å¯å¤ç”¨ç»„ä»¶"><a href="#å¯å¤ç”¨ç»„ä»¶" class="headerlink" title="å¯å¤ç”¨ç»„ä»¶"></a>å¯å¤ç”¨ç»„ä»¶</h3><h2 id="ç»„åˆä¸€åˆ‡"><a href="#ç»„åˆä¸€åˆ‡" class="headerlink" title="ç»„åˆä¸€åˆ‡"></a>ç»„åˆä¸€åˆ‡</h2><h3 id="ç»„ä»¶é—´çš„é€šä¿¡"><a href="#ç»„ä»¶é—´çš„é€šä¿¡" class="headerlink" title="ç»„ä»¶é—´çš„é€šä¿¡"></a>ç»„ä»¶é—´çš„é€šä¿¡</h3><ul>
<li>children</li>
</ul>
<h3 id="å®¹å™¨ç»„ä»¶ä¸è¡¨ç°ç»„ä»¶æ¨¡å¼"><a href="#å®¹å™¨ç»„ä»¶ä¸è¡¨ç°ç»„ä»¶æ¨¡å¼" class="headerlink" title="å®¹å™¨ç»„ä»¶ä¸è¡¨ç°ç»„ä»¶æ¨¡å¼"></a>å®¹å™¨ç»„ä»¶ä¸è¡¨ç°ç»„ä»¶æ¨¡å¼</h3><ul>
<li>React ç»„ä»¶é€šå¸¸åŒ…å«æ‚åˆåœ¨ä¸€èµ·çš„é€»è¾‘ä¸è¡¨ç°ã€‚</li>
<li>é€»è¾‘ï¼šä¸€èˆ¬æŒ‡ä¸ UI æ— å…³çš„é‚£äº›ä¸œè¥¿ï¼Œå¦‚ API çš„è°ƒç”¨ã€æ•°æ®æ“ä½œä»¥åŠäº‹ä»¶å¤„ç†å™¨ã€‚</li>
<li>è¡¨ç°ï¼šåˆ™æ˜¯æŒ‡æ¸²æŸ“æ–¹æ³•ä¸­åˆ›å»ºå…ƒç´ ç”¨æ¥æ˜¾ç¤º UI çš„éƒ¨åˆ†ã€‚</li>
<li>å®¹å™¨ç»„ä»¶ï¼š<ul>
<li>æ›´å…³å¿ƒè¡Œä¸ºéƒ¨åˆ†</li>
<li>è´Ÿè´£æ¸²æŸ“å¯¹åº”çš„è¡¨ç°ç»„ä»¶</li>
<li>å‘èµ· API è¯·æ±‚å¹¶æ“ä½œæ•°æ®</li>
<li>å®šä¹‰äº‹ä»¶å¤„ç†å™¨</li>
<li>å†™ä½œç±»çš„å½¢å¼</li>
</ul>
</li>
<li>è¡¨ç°ç»„ä»¶ï¼š<ul>
<li>æ›´å…³å¿ƒè§†è§‰è¡¨ç°</li>
<li>è´Ÿè´£æ¸²æŸ“ HTML æ ‡è®°</li>
<li>ä»¥ props çš„å½¢å¼ä»çˆ¶ç»„ä»¶æ¥æ”¶æ•°æ®</li>
<li>é€šå¸¸å†™ä½œæ— çŠ¶æ€å‡½æ•°ç»„ä»¶</li>
</ul>
</li>
</ul>
<h3 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h3><h3 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h3><h3 id="recompose"><a href="#recompose" class="headerlink" title="recompose"></a>recompose</h3><h3 id="å‡½æ•°å­ç»„ä»¶"><a href="#å‡½æ•°å­ç»„ä»¶" class="headerlink" title="å‡½æ•°å­ç»„ä»¶"></a>å‡½æ•°å­ç»„ä»¶</h3><h2 id="æ°å½“åœ°è·å–æ•°æ®"><a href="#æ°å½“åœ°è·å–æ•°æ®" class="headerlink" title="æ°å½“åœ°è·å–æ•°æ®"></a>æ°å½“åœ°è·å–æ•°æ®</h2><h3 id="æ•°æ®æµ"><a href="#æ•°æ®æµ" class="headerlink" title="æ•°æ®æµ"></a>æ•°æ®æµ</h3><ul>
<li>å•å‘æ•°æ®æµï¼Œæ¯ä¸ªç»„ä»¶éƒ½ä»¥ prop çš„å½¢å¼ä»çˆ¶ç»„ä»¶æ¥æ”¶æ•°æ®ï¼Œå¹¶ä¸” prop æ— æ³•ä¿®æ”¹ã€‚</li>
</ul>
<h4 id="å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„é€šè¡Œï¼ˆå›è°ƒå‡½æ•°ï¼‰"><a href="#å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„é€šè¡Œï¼ˆå›è°ƒå‡½æ•°ï¼‰" class="headerlink" title="å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„é€šè¡Œï¼ˆå›è°ƒå‡½æ•°ï¼‰"></a>å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶çš„é€šè¡Œï¼ˆå›è°ƒå‡½æ•°ï¼‰</h4><h4 id="å…¬æœ‰çˆ¶ç»„ä»¶"><a href="#å…¬æœ‰çˆ¶ç»„ä»¶" class="headerlink" title="å…¬æœ‰çˆ¶ç»„ä»¶"></a>å…¬æœ‰çˆ¶ç»„ä»¶</h4><h4 id="æ•°æ®è·å–"><a href="#æ•°æ®è·å–" class="headerlink" title="æ•°æ®è·å–"></a>æ•°æ®è·å–</h4><ul>
<li>ç”¨äºè·å–æ•°æ®çš„ä»£ç å¯ä»¥æ”¾åœ¨ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ä¸­:componentWillMount å’Œ componentDidMount</li>
<li>å‰è€…ä¼šåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“å‰è§¦å‘ï¼Œåè€…åˆ™åœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåç«‹å³è§¦å‘ã€‚</li>
<li>ä½¿ç”¨å‰è€…ä¼¼ä¹æ˜¯æ­£ç¡®çš„åšæ³•ï¼Œæ¯•ç«Ÿæˆ‘ä»¬å¸Œæœ›å°½å¿«åŠ è½½æ•°æ®ï¼Œä¸è¿‡éœ€è¦æ³¨æ„ä¸€ç‚¹ã€‚å®é™…ä¸Šï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ¸²æŸ“éƒ½ä¼šè§¦å‘ componentWillMount å‡½æ•°ã€‚</li>
<li><font color='red'>å› æ­¤ï¼Œæˆ‘ä»¬åªèƒ½ç”¨ componentDidMount é’©å­</font></li>
</ul>
<ol>
<li>åŸºäºé«˜é˜¶å‡½æ•°å°è£…æ•°æ®è¯·æ±‚</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åŸºäºé«˜é˜¶å‡½æ•°å°è£…è¯·æ±‚</span>
<span class="token keyword">const</span> <span class="token function-variable function">withData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// æ¨¡æ‹Ÿè™šæ‹Ÿè¯·æ±‚</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"001"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"å°æ˜"</span><span class="token punctuation">,</span> <span class="token literal-property property">excerpt</span><span class="token operator">:</span> <span class="token string">"å¼€å‘å·¥ç¨‹å¸ˆ"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"002"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"è€ç‹"</span><span class="token punctuation">,</span> <span class="token literal-property property">excerpt</span><span class="token operator">:</span> <span class="token string">"è®¾è®¡å¸ˆ"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>Component <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">&#125;</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> withGists <span class="token operator">=</span> <span class="token function">withData</span><span class="token punctuation">(</span><span class="token string">"https://api.github.com/users/gaearon/gists"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">List</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"List -> gists"</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">></span>
      <span class="token punctuation">&#123;</span>props<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">gist</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">&#123;</span>gist<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">&#123;</span>gist<span class="token punctuation">.</span>title<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
List<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ListWithGists <span class="token operator">=</span> <span class="token function">withGists</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li>æˆ‘ä»¬å¯ä»¥ç”¨ react-refetch åº“æ¥æ›¿æ¢æˆ‘ä»¬å†™çš„é«˜é˜¶å‡½æ•°</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> connect <span class="token keyword">as</span> refetchConnect <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"react-refetch"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">List</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> gists <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>gists<span class="token punctuation">.</span>pending<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>gists<span class="token punctuation">.</span>rejected<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token punctuation">&#123;</span>gists<span class="token punctuation">.</span>reason<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>gists<span class="token punctuation">.</span>fulfilled<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      gists<span class="token punctuation">.</span>fulfilled <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">></span>
          <span class="token punctuation">&#123;</span>gists<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">gist</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">&#123;</span>gist<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token punctuation">&#123;</span>gist<span class="token punctuation">.</span>description<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ListWithGists <span class="token operator">=</span> <span class="token function">refetchConnect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">gists</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.github.com/users/gaearon/gists</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="è¡¨å•-amp-amp-äº‹ä»¶"><a href="#è¡¨å•-amp-amp-äº‹ä»¶" class="headerlink" title="è¡¨å•&amp;&amp;äº‹ä»¶"></a>è¡¨å•&amp;&amp;äº‹ä»¶</h2><h3 id="è‡ªç”±è¡¨å•ç»„ä»¶"><a href="#è‡ªç”±è¡¨å•ç»„ä»¶" class="headerlink" title="è‡ªç”±è¡¨å•ç»„ä»¶"></a>è‡ªç”±è¡¨å•ç»„ä»¶</h3><h3 id="å—æ§è¡¨å•ç»„ä»¶"><a href="#å—æ§è¡¨å•ç»„ä»¶" class="headerlink" title="å—æ§è¡¨å•ç»„ä»¶"></a>å—æ§è¡¨å•ç»„ä»¶</h3><h3 id="è‡ªåŠ¨ç”Ÿæˆè¡¨å•"><a href="#è‡ªåŠ¨ç”Ÿæˆè¡¨å•" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆè¡¨å•"></a>è‡ªåŠ¨ç”Ÿæˆè¡¨å•</h3><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><h2 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h2><h3 id="è¡Œå†…æ ·å¼"><a href="#è¡Œå†…æ ·å¼" class="headerlink" title="è¡Œå†…æ ·å¼"></a>è¡Œå†…æ ·å¼</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"palevioletred"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">"papayawhip"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Button</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button style<span class="token operator">=</span><span class="token punctuation">&#123;</span>style<span class="token punctuation">&#125;</span><span class="token operator">></span>Click me<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Radiumï¼ˆè§£å†³è¡Œå†…æ ·å¼é—®é¢˜ï¼‰"><a href="#Radiumï¼ˆè§£å†³è¡Œå†…æ ·å¼é—®é¢˜ï¼‰" class="headerlink" title="Radiumï¼ˆè§£å†³è¡Œå†…æ ·å¼é—®é¢˜ï¼‰"></a>Radiumï¼ˆè§£å†³è¡Œå†…æ ·å¼é—®é¢˜ï¼‰</h3><h3 id="CSS-æ¨¡å—"><a href="#CSS-æ¨¡å—" class="headerlink" title="CSS æ¨¡å—"></a>CSS æ¨¡å—</h3><ul>
<li>è¡Œå†…æ ·å¼æ–¹æ¡ˆä¸é€‚åˆé¡¹ç›®ä¸å›¢é˜Ÿï¼Œä½†ä»ç„¶å¸Œæœ›å°½é‡ç´§å¯†ç»“åˆæ ·å¼ä¸ç»„ä»¶ï¼Œ é‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ªåä¸º CSS æ¨¡å—çš„æ–¹æ¡ˆä¾›ä½ é€‰æ‹©ã€‚</li>
<li>Webpack &amp;&amp; é¡¹ç›®æ­å»º</li>
<li>å±€éƒ¨ä½œç”¨åŸŸçš„ CSS</li>
<li>åŸå­çº§ CSS æ¨¡å—</li>
<li>React CSS æ¨¡å—</li>
<li>Styled Component</li>
</ul>
<h2 id="æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æœåŠ¡ç«¯æ¸²æŸ“"></a>æœåŠ¡ç«¯æ¸²æŸ“</h2><h3 id="ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„åŸå› "><a href="#ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„åŸå› " class="headerlink" title="ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„åŸå› "></a>ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“çš„åŸå› </h3><ol>
<li>SEO<ul>
<li>åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨çš„ä¸€ä¸ªä¸»è¦åŸå› å°±æ˜¯ SEOã€‚</li>
</ul>
</li>
<li>æ€§èƒ½æ›´å¼º<ul>
<li>å®¢æˆ·ç«¯æ¸²æŸ“ç¼ºç‚¹ï¼šæ“ä½œåº”ç”¨å‰ï¼Œéœ€è¦åŠ è½½å¹¶è¿è¡Œæ–‡ä»¶åŒ…ã€‚</li>
</ul>
</li>
<li>ä¸è¦ä½ä¼°å¤æ‚åº¦<ul>
<li>ç»´æŠ¤é€šç”¨åº”ç”¨</li>
<li>è¦æ­å»ºå’Œç»´æŠ¤å¸¦æœ‰è·¯ç”±å’Œé€»è¾‘çš„æœåŠ¡å™¨ã€ç®¡ç†æœåŠ¡ç«¯æ•°æ®æµç­‰</li>
<li>ç¼“å­˜ æœåŠ¡å™¨å†…å®¹ï¼Œä»¥ä¾¿æ›´å¿«åœ°è¾“å‡ºé¡µé¢</li>
<li>â€¦</li>
</ul>
</li>
<li>å¦‚æœå‘ç°åŠ è½½æ•´ä¸ªåº”ç”¨è€—æ—¶å¾ˆä¹…ï¼Œè€Œä½ å·²ç»é‡‡å–äº†ä¸€åˆ‡ä¼˜åŒ–æ‰‹æ®µ(ä¸‹é¢å°†è¯¦ç»†è®¨è®ºä¼˜åŒ–è¿™ä¸€è¯é¢˜)ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ç”¨æœåŠ¡ç«¯æ¸²æŸ“æå‡æ„ŸçŸ¥é€Ÿåº¦ï¼Œä»¥ä¾¿ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒã€‚</li>
</ol>
<h3 id="Next-js"><a href="#Next-js" class="headerlink" title="Next.js"></a>Next.js</h3><h2 id="æ€§èƒ½æå‡"><a href="#æ€§èƒ½æå‡" class="headerlink" title="æ€§èƒ½æå‡"></a>æ€§èƒ½æå‡</h2><h3 id="key-å±æ€§"><a href="#key-å±æ€§" class="headerlink" title="key å±æ€§"></a>key å±æ€§</h3><ul>
<li>å®‰è£… npm install â€“save-dev react-addons-perf æ’ä»¶å¸®åŠ©è®°å½•æ€§èƒ½ç›¸å…³ä¿¡æ¯</li>
</ul>
<h3 id="ä¼˜åŒ–æ‰‹æ®µ"><a href="#ä¼˜åŒ–æ‰‹æ®µ" class="headerlink" title="ä¼˜åŒ–æ‰‹æ®µ"></a>ä¼˜åŒ–æ‰‹æ®µ</h3><ol>
<li>æ„å»ºæ‰“åŒ…æ—¶è¦å°† NODE_ENV ç¯å¢ƒå˜é‡è®¾ç½®ä¸º production</li>
<li>å‹ç¼©æœ€ç»ˆä»£ç æ¥å‡å°ä½“ ç§¯ï¼Œä»¥ä¾¿åº”ç”¨å¯ä»¥æ›´å¿«åŠ è½½ï¼ˆnew webpack.optimize.UglifyJsPlugin()ï¼‰</li>
</ol>
<ul>
<li>æ˜¯å¦è¦æ›´æ–°ç»„ä»¶ï¼ˆshouldComponentUpdateï¼‰<ul>
<li>å¦‚æœæ¯”è¾ƒåå‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰æ”¹å˜ï¼Œé‚£ä¹ˆå°±ä¸ä¿®æ”¹ DOMï¼Œè¿™æ˜¯ç†æƒ³æƒ…å†µã€‚ä½†å¦‚æœæ¸²æŸ“æ–¹æ³•æ‰§ è¡Œäº†å¾ˆå¤æ‚çš„æ“ä½œï¼ŒReact å°±è¦è€—è´¹ä¸€äº›æ—¶é—´æ‰èƒ½åˆ¤æ–­å‡ºä¸éœ€è¦è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œè¿™ç§æƒ…å†µå°±ä¸å¤Ÿ ç†æƒ³äº†ã€‚</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ shouldComponentUpdateï¼Œå¦‚æœå®ƒè¿”å› falseï¼Œé‚£ä¹ˆåœ¨çˆ¶ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œç»„ä»¶åŠå…¶å…¨éƒ¨å­å…ƒç´ çš„æ¸²æŸ“æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚</span>
<span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>å¯ä»¥ä½¿ç”¨ React.PureComponent åšæµ…æ¯”è¾ƒï¼Œè¿™æ ·ä¸ç”¨ç»´æŠ¤ shouldComponentUpdate</li>
</ul>
<ol start="3">
<li>why-did-you-update</li>
<li>åœ¨æ¸²æŸ“æ–¹æ³•ä¸­åˆ›å»ºå‡½æ•°</li>
<li>props å¸¸é‡</li>
<li>é‡æ„ä¸è‰¯å¥½è®¾è®¡</li>
</ol>

  <p><a class="classtest-link" href="/tags/React/" rel="tag">React</a> â€” 2020å¹´8æœˆ14æ—¥</p>
  


          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith" style="color: #c7c7c7;">çŸ¥è¡Œåˆä¸€ï¼Œæƒ³åªæœ‰å›°éš¾ï¼Œåšæ‰æœ‰ç­”æ¡ˆã€‚
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/liaojunhao" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
